{"version":3,"sources":["ng2-completer.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng2","completer","ng","core","Rx","Observable","prototype","common","http","forms","this","operators","Subject","timer","__extends","d","b","__","constructor","extendStatics","Object","create","isNil","value","setPrototypeOf","__proto__","Array","p","hasOwnProperty","Observable_1","catch_1","catch","_catch","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NO_RESULTS","CompleterBaseData","_super","call","cancel","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","JSON","stringify","extractValue","description","originalObject","title","extractMatches","term","_this","split","undefined","filter","item","extractBySearchFields","some","toString","toLowerCase","indexOf","map","field","reduce","acc","titlePart","obj","key","keys","result","_i","keys_1","length","processResults","matches","i","results","push","searchField","LocalData","dataSourceChange","EventEmitter","pipe","catchError","subscribe","res","_data","savedTerm","search","emit","next","RemoteData","http$$1","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","requestOptions","_requestOptions","url","encodeURIComponent","remoteSearch","get","assign","unsubscribe","LocalDataFactory","decorators","type","Injectable","ctorParameters","RemoteDataFactory","HttpClient","CompleterService","localDataFactory","remoteDataFactory","local","remote","CtrCompleter","selected","highlighted","opened","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","registerList","list","registerDropdown","dropdown","onHighlighted","onSelected","clearList","clear","onDataSourceChange","hasSelected","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","isCancelBlur","open","defineProperty","set","enumerable","configurable","_autoHighlightIndex","index","highlightRow","Directive","args","selector","propDecorators","Output","CtrRowItem","row","CtrDropdown","el","rows","_rowMouseDown","ngOnDestroy","ngAfterViewInit","css","getComputedStyle","nativeElement","autoHighlightIndex","isScrollOn","maxHeight","overflowY","setTimeout","onMouseDown","event","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","splice","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","Host","ElementRef","HostListener","CtrInput","ngModel","clearSelected","clearUnselected","overrideSuggested","fillHighlighted","openOnFocus","openOnClick","selectOnClick","selectOnFocus","ngModelChange","_searchStr","_displayStr","blurTimer","searchStr","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","stopPropagation","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","onBlur","focus","take","doBlur","onfocus","select","onClick","NgModel","Input","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","searchTimer","clearTimer","ctx","_initialValue","viewRef","ngOnInit","createEmbeddedView","newService","_dataService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","dataService","destroyed","context","detectChanges","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","err","console","error","initialValue","TemplateRef","ViewContainerRef","ChangeDetectorRef","CtrRow","renderer","_rowIndex","_item","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","CompleterListItemCmp","parts","matchStr","text","matchPos","startIndex","matchText","slice","isMatch","matchPart","Component","template","matchClass","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","multi","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","placeholder","autoMatch","disableInput","autofocus","autoHighlight","blurEvent","click","focusEvent","keyup","keydown","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","v","ngAfterViewChecked","ctrInput","onTouched","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","source","onFocus","onKeyup","onKeydown","onChange","close","blur","styles","providers","fieldTabindex","inputClass","ViewChild","datasource","textNoResults","textSearching","Ng2CompleterModule","forRoot","ngModule","forChild","NgModule","declarations","imports","CommonModule","FormsModule","HttpClientModule","ɵa","ɵb"],"mappings":"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","file":"ng2-completer.umd.min.js.map","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/Observable'), require('rxjs/operators'), require('rxjs/Subject'), require('@angular/common/http'), require('@angular/forms'), require('rxjs/observable/timer'), require('@angular/common')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/core', 'rxjs/Observable', 'rxjs/operators', 'rxjs/Subject', '@angular/common/http', '@angular/forms', 'rxjs/observable/timer', '@angular/common'], factory) :\n\t(factory((global.ng2 = global.ng2 || {}, global.ng2.completer = {}),global.ng.core,global.Rx,global.Rx.Observable.prototype,global.Rx,global.ng.common.http,global.ng.forms,global.Rx.Observable,global.ng.common));\n}(this, (function (exports,core,Observable,operators,Subject,http,forms,timer,common) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar catch_1 = require('../../operator/catch');\nObservable_1.Observable.prototype.catch = catch_1._catch;\nObservable_1.Observable.prototype._catch = catch_1._catch;\n\n/**\n * @license ng2-completer\n * MIT license\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar MAX_CHARS = 524288; // the default max length per the html maxlength attribute\nvar MIN_SEARCH_LENGTH = 3;\nvar PAUSE = 10;\nvar TEXT_SEARCHING = \"Searching...\";\nvar TEXT_NO_RESULTS = \"No results found\";\nvar CLEAR_TIMEOUT = 50;\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isNil(value) {\n    return typeof value === \"undefined\" || value === null;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @abstract\n */\nvar CompleterBaseData = (function (_super) {\n    __extends(CompleterBaseData, _super);\n    function CompleterBaseData() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @return {?}\n     */\n    CompleterBaseData.prototype.cancel = /**\n     * @return {?}\n     */\n    function () {\n        return;\n    };\n    /**\n     * @param {?} searchFields\n     * @return {?}\n     */\n    CompleterBaseData.prototype.searchFields = /**\n     * @param {?} searchFields\n     * @return {?}\n     */\n    function (searchFields) {\n        this._searchFields = searchFields;\n        return this;\n    };\n    /**\n     * @param {?} titleField\n     * @return {?}\n     */\n    CompleterBaseData.prototype.titleField = /**\n     * @param {?} titleField\n     * @return {?}\n     */\n    function (titleField) {\n        this._titleField = titleField;\n        return this;\n    };\n    /**\n     * @param {?} descriptionField\n     * @return {?}\n     */\n    CompleterBaseData.prototype.descriptionField = /**\n     * @param {?} descriptionField\n     * @return {?}\n     */\n    function (descriptionField) {\n        this._descriptionField = descriptionField;\n        return this;\n    };\n    /**\n     * @param {?} imageField\n     * @return {?}\n     */\n    CompleterBaseData.prototype.imageField = /**\n     * @param {?} imageField\n     * @return {?}\n     */\n    function (imageField) {\n        this._imageField = imageField;\n        return this;\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    CompleterBaseData.prototype.convertToItem = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        var /** @type {?} */ image = null;\n        var /** @type {?} */ formattedText;\n        var /** @type {?} */ formattedDesc = null;\n        if (this._titleField) {\n            formattedText = this.extractTitle(data);\n        }\n        else {\n            formattedText = data;\n        }\n        if (typeof formattedText !== \"string\") {\n            formattedText = JSON.stringify(formattedText);\n        }\n        if (this._descriptionField) {\n            formattedDesc = this.extractValue(data, this._descriptionField);\n        }\n        if (this._imageField) {\n            image = this.extractValue(data, this._imageField);\n        }\n        if (isNil(formattedText)) {\n            return null;\n        }\n        return /** @type {?} */ ({\n            description: formattedDesc,\n            image: image,\n            originalObject: data,\n            title: formattedText\n        });\n    };\n    /**\n     * @param {?} data\n     * @param {?} term\n     * @return {?}\n     */\n    CompleterBaseData.prototype.extractMatches = /**\n     * @param {?} data\n     * @param {?} term\n     * @return {?}\n     */\n    function (data, term) {\n        var _this = this;\n        var /** @type {?} */ matches = [];\n        var /** @type {?} */ searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\n        if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\n            matches = data.filter(function (item) {\n                var /** @type {?} */ values = searchFields ? _this.extractBySearchFields(searchFields, item) : [item];\n                return values.some(function (value) {\n                    return value\n                        .toString()\n                        .toLowerCase()\n                        .indexOf(term.toString().toLowerCase()) >= 0;\n                });\n            });\n        }\n        else {\n            matches = data;\n        }\n        return matches;\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    CompleterBaseData.prototype.extractTitle = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        var _this = this;\n        // split title fields and run extractValue for each and join with ' '\n        if (!this._titleField) {\n            return \"\";\n        }\n        return this._titleField.split(\",\")\n            .map(function (field) {\n            return _this.extractValue(item, field);\n        })\n            .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\n    };\n    /**\n     * @param {?} obj\n     * @param {?} key\n     * @return {?}\n     */\n    CompleterBaseData.prototype.extractValue = /**\n     * @param {?} obj\n     * @param {?} key\n     * @return {?}\n     */\n    function (obj, key) {\n        var /** @type {?} */ keys;\n        var /** @type {?} */ result;\n        if (key) {\n            keys = key.split(\".\");\n            result = obj;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                key = keys_1[_i];\n                if (result) {\n                    result = result[key];\n                }\n            }\n        }\n        else {\n            result = obj;\n        }\n        return result;\n    };\n    /**\n     * @param {?} matches\n     * @return {?}\n     */\n    CompleterBaseData.prototype.processResults = /**\n     * @param {?} matches\n     * @return {?}\n     */\n    function (matches) {\n        var /** @type {?} */ i;\n        var /** @type {?} */ results = [];\n        if (matches && matches.length > 0) {\n            for (i = 0; i < matches.length; i++) {\n                var /** @type {?} */ item = this.convertToItem(matches[i]);\n                if (item) {\n                    results.push(item);\n                }\n            }\n        }\n        return results;\n    };\n    /**\n     * @param {?} searchFields\n     * @param {?} item\n     * @return {?}\n     */\n    CompleterBaseData.prototype.extractBySearchFields = /**\n     * @param {?} searchFields\n     * @param {?} item\n     * @return {?}\n     */\n    function (searchFields, item) {\n        var _this = this;\n        return searchFields\n            .map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; });\n    };\n    return CompleterBaseData;\n}(Subject.Subject));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar LocalData = (function (_super) {\n    __extends(LocalData, _super);\n    function LocalData() {\n        var _this = _super.call(this) || this;\n        _this.dataSourceChange = new core.EventEmitter();\n        return _this;\n    }\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    LocalData.prototype.data = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        var _this = this;\n        if (data instanceof Observable.Observable) {\n            var /** @type {?} */ data$ = /** @type {?} */ (data);\n            data$\n                .pipe(operators.catchError(function () { return []; }))\n                .subscribe(function (res) {\n                _this._data = res;\n                if (_this.savedTerm) {\n                    _this.search(_this.savedTerm);\n                }\n                _this.dataSourceChange.emit();\n            });\n        }\n        else {\n            this._data = data;\n        }\n        this.dataSourceChange.emit();\n        return this;\n    };\n    /**\n     * @param {?} term\n     * @return {?}\n     */\n    LocalData.prototype.search = /**\n     * @param {?} term\n     * @return {?}\n     */\n    function (term) {\n        if (!this._data) {\n            this.savedTerm = term;\n        }\n        else {\n            this.savedTerm = null;\n            var /** @type {?} */ matches = this.extractMatches(this._data, term);\n            this.next(this.processResults(matches));\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    LocalData.prototype.convertToItem = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        return _super.prototype.convertToItem.call(this, data);\n    };\n    return LocalData;\n}(CompleterBaseData));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar RemoteData = (function (_super) {\n    __extends(RemoteData, _super);\n    function RemoteData(http$$1) {\n        var _this = _super.call(this) || this;\n        _this.http = http$$1;\n        _this.dataSourceChange = new core.EventEmitter();\n        _this._urlFormater = null;\n        _this._dataField = null;\n        return _this;\n    }\n    /**\n     * @param {?} remoteUrl\n     * @return {?}\n     */\n    RemoteData.prototype.remoteUrl = /**\n     * @param {?} remoteUrl\n     * @return {?}\n     */\n    function (remoteUrl) {\n        this._remoteUrl = remoteUrl;\n        this.dataSourceChange.emit();\n        return this;\n    };\n    /**\n     * @param {?} urlFormater\n     * @return {?}\n     */\n    RemoteData.prototype.urlFormater = /**\n     * @param {?} urlFormater\n     * @return {?}\n     */\n    function (urlFormater) {\n        this._urlFormater = urlFormater;\n    };\n    /**\n     * @param {?} dataField\n     * @return {?}\n     */\n    RemoteData.prototype.dataField = /**\n     * @param {?} dataField\n     * @return {?}\n     */\n    function (dataField) {\n        this._dataField = dataField;\n    };\n    /**\n     * @param {?} requestOptions\n     * @return {?}\n     */\n    RemoteData.prototype.requestOptions = /**\n     * @param {?} requestOptions\n     * @return {?}\n     */\n    function (requestOptions) {\n        this._requestOptions = requestOptions;\n    };\n    /**\n     * @param {?} term\n     * @return {?}\n     */\n    RemoteData.prototype.search = /**\n     * @param {?} term\n     * @return {?}\n     */\n    function (term) {\n        var _this = this;\n        this.cancel();\n        // let params = {};\n        var /** @type {?} */ url = \"\";\n        if (this._urlFormater) {\n            url = this._urlFormater(term);\n        }\n        else {\n            url = this._remoteUrl + encodeURIComponent(term);\n        }\n        this.remoteSearch = this.http\n            .get(url, Object.assign({}, this._requestOptions))\n            .pipe(operators.map(function (data) {\n            var /** @type {?} */ matches = _this.extractValue(data, _this._dataField);\n            return _this.extractMatches(matches, term);\n        }), operators.catchError(function () { return []; }))\n            .subscribe(function (matches) {\n            var /** @type {?} */ results = _this.processResults(matches);\n            _this.next(results);\n        });\n    };\n    /**\n     * @return {?}\n     */\n    RemoteData.prototype.cancel = /**\n     * @return {?}\n     */\n    function () {\n        if (this.remoteSearch) {\n            this.remoteSearch.unsubscribe();\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    RemoteData.prototype.convertToItem = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        return _super.prototype.convertToItem.call(this, data);\n    };\n    return RemoteData;\n}(CompleterBaseData));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar LocalDataFactory = (function () {\n    function LocalDataFactory() {\n    }\n    /**\n     * @return {?}\n     */\n    LocalDataFactory.prototype.create = /**\n     * @return {?}\n     */\n    function () {\n        return new LocalData();\n    };\n    LocalDataFactory.decorators = [\n        { type: core.Injectable },\n    ];\n    /** @nocollapse */\n    LocalDataFactory.ctorParameters = function () { return []; };\n    return LocalDataFactory;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar RemoteDataFactory = (function () {\n    function RemoteDataFactory(http$$1) {\n        this.http = http$$1;\n    }\n    /**\n     * @return {?}\n     */\n    RemoteDataFactory.prototype.create = /**\n     * @return {?}\n     */\n    function () {\n        return new RemoteData(this.http);\n    };\n    RemoteDataFactory.decorators = [\n        { type: core.Injectable },\n    ];\n    /** @nocollapse */\n    RemoteDataFactory.ctorParameters = function () { return [\n        { type: http.HttpClient, },\n    ]; };\n    return RemoteDataFactory;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar CompleterService = (function () {\n    function CompleterService(localDataFactory, remoteDataFactory // Using any instead of () => LocalData because of AoT errors\n    ) {\n        this.localDataFactory = localDataFactory;\n        this.remoteDataFactory = remoteDataFactory;\n    }\n    /**\n     * @param {?} data\n     * @param {?=} searchFields\n     * @param {?=} titleField\n     * @return {?}\n     */\n    CompleterService.prototype.local = /**\n     * @param {?} data\n     * @param {?=} searchFields\n     * @param {?=} titleField\n     * @return {?}\n     */\n    function (data, searchFields, titleField) {\n        if (searchFields === void 0) { searchFields = \"\"; }\n        if (titleField === void 0) { titleField = \"\"; }\n        var /** @type {?} */ localData = this.localDataFactory.create();\n        return localData\n            .data(data)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    };\n    /**\n     * @param {?} url\n     * @param {?=} searchFields\n     * @param {?=} titleField\n     * @return {?}\n     */\n    CompleterService.prototype.remote = /**\n     * @param {?} url\n     * @param {?=} searchFields\n     * @param {?=} titleField\n     * @return {?}\n     */\n    function (url, searchFields, titleField) {\n        if (searchFields === void 0) { searchFields = \"\"; }\n        if (titleField === void 0) { titleField = \"\"; }\n        var /** @type {?} */ remoteData = this.remoteDataFactory.create();\n        return remoteData\n            .remoteUrl(url)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    };\n    CompleterService.decorators = [\n        { type: core.Injectable },\n    ];\n    /** @nocollapse */\n    CompleterService.ctorParameters = function () { return [\n        { type: LocalDataFactory, },\n        { type: RemoteDataFactory, },\n    ]; };\n    return CompleterService;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n\n/**\n * @record\n */\n\nvar CtrCompleter = (function () {\n    function CtrCompleter() {\n        this.selected = new core.EventEmitter();\n        this.highlighted = new core.EventEmitter();\n        this.opened = new core.EventEmitter();\n        this.dataSourceChange = new core.EventEmitter();\n        this._hasHighlighted = false;\n        this._hasSelected = false;\n        this._cancelBlur = false;\n        this._isOpen = false;\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n    CtrCompleter.prototype.registerList = /**\n     * @param {?} list\n     * @return {?}\n     */\n    function (list) {\n        this.list = list;\n    };\n    /**\n     * @param {?} dropdown\n     * @return {?}\n     */\n    CtrCompleter.prototype.registerDropdown = /**\n     * @param {?} dropdown\n     * @return {?}\n     */\n    function (dropdown) {\n        this.dropdown = dropdown;\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    CtrCompleter.prototype.onHighlighted = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        this.highlighted.emit(item);\n        this._hasHighlighted = !!item;\n    };\n    /**\n     * @param {?} item\n     * @param {?=} clearList\n     * @return {?}\n     */\n    CtrCompleter.prototype.onSelected = /**\n     * @param {?} item\n     * @param {?=} clearList\n     * @return {?}\n     */\n    function (item, clearList) {\n        if (clearList === void 0) { clearList = true; }\n        this.selected.emit(item);\n        if (item) {\n            this._hasSelected = true;\n        }\n        if (clearList) {\n            this.clear();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.onDataSourceChange = /**\n     * @return {?}\n     */\n    function () {\n        if (this.hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        this.dataSourceChange.emit();\n    };\n    /**\n     * @param {?} term\n     * @return {?}\n     */\n    CtrCompleter.prototype.search = /**\n     * @param {?} term\n     * @return {?}\n     */\n    function (term) {\n        if (this._hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        if (this.list) {\n            this.list.search(term);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.clear = /**\n     * @return {?}\n     */\n    function () {\n        this._hasHighlighted = false;\n        this.isOpen = false;\n        if (this.dropdown) {\n            this.dropdown.clear();\n        }\n        if (this.list) {\n            this.list.clear();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.selectCurrent = /**\n     * @return {?}\n     */\n    function () {\n        if (this.dropdown) {\n            this.dropdown.selectCurrent();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.nextRow = /**\n     * @return {?}\n     */\n    function () {\n        if (this.dropdown) {\n            this.dropdown.nextRow();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.prevRow = /**\n     * @return {?}\n     */\n    function () {\n        if (this.dropdown) {\n            this.dropdown.prevRow();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.hasHighlighted = /**\n     * @return {?}\n     */\n    function () {\n        return this._hasHighlighted;\n    };\n    /**\n     * @param {?} cancel\n     * @return {?}\n     */\n    CtrCompleter.prototype.cancelBlur = /**\n     * @param {?} cancel\n     * @return {?}\n     */\n    function (cancel) {\n        this._cancelBlur = cancel;\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.isCancelBlur = /**\n     * @return {?}\n     */\n    function () {\n        return this._cancelBlur;\n    };\n    /**\n     * @return {?}\n     */\n    CtrCompleter.prototype.open = /**\n     * @return {?}\n     */\n    function () {\n        if (!this._isOpen) {\n            this.isOpen = true;\n            this.list.open();\n        }\n    };\n    Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this._isOpen;\n        },\n        set: /**\n         * @param {?} open\n         * @return {?}\n         */\n        function (open) {\n            this._isOpen = open;\n            this.opened.emit(this._isOpen);\n            if (this.list) {\n                this.list.isOpen(open);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this._autoHighlightIndex;\n        },\n        set: /**\n         * @param {?} index\n         * @return {?}\n         */\n        function (index) {\n            this._autoHighlightIndex = index;\n            if (this.dropdown) {\n                this.dropdown.highlightRow(this._autoHighlightIndex);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this._hasSelected;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrCompleter.decorators = [\n        { type: core.Directive, args: [{\n                    selector: \"[ctrCompleter]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrCompleter.ctorParameters = function () { return []; };\n    CtrCompleter.propDecorators = {\n        \"selected\": [{ type: core.Output },],\n        \"highlighted\": [{ type: core.Output },],\n        \"opened\": [{ type: core.Output },],\n        \"dataSourceChange\": [{ type: core.Output },],\n    };\n    return CtrCompleter;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n\nvar CtrRowItem = (function () {\n    function CtrRowItem(row, index) {\n        this.row = row;\n        this.index = index;\n    }\n    return CtrRowItem;\n}());\nvar CtrDropdown = (function () {\n    function CtrDropdown(completer, el) {\n        this.completer = completer;\n        this.el = el;\n        this.rows = [];\n        this._rowMouseDown = false;\n        this.completer.registerDropdown(this);\n    }\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        this.completer.registerDropdown(null);\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.ngAfterViewInit = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ css = getComputedStyle(this.el.nativeElement);\n        var /** @type {?} */ autoHighlightIndex = this.completer.autoHighlightIndex;\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\n        if (autoHighlightIndex) {\n            setTimeout(function () {\n                _this.highlightRow(autoHighlightIndex);\n            }, 0);\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrDropdown.prototype.onMouseDown = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        var _this = this;\n        if (this._rowMouseDown) {\n            this._rowMouseDown = false;\n            this.completer.cancelBlur(true);\n            setTimeout(function () {\n                _this.completer.cancelBlur(false);\n            }, 0);\n            return;\n        }\n    };\n    /**\n     * @param {?} row\n     * @return {?}\n     */\n    CtrDropdown.prototype.registerRow = /**\n     * @param {?} row\n     * @return {?}\n     */\n    function (row) {\n        var /** @type {?} */ arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\n        if (arrIndex >= 0) {\n            this.rows[arrIndex] = row;\n        }\n        else {\n            this.rows.push(row);\n        }\n    };\n    /**\n     * @param {?} rowIndex\n     * @return {?}\n     */\n    CtrDropdown.prototype.unregisterRow = /**\n     * @param {?} rowIndex\n     * @return {?}\n     */\n    function (rowIndex) {\n        var /** @type {?} */ arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\n        this.rows.splice(arrIndex, 1);\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\n            this.highlightRow(null);\n        }\n    };\n    /**\n     * @param {?} index\n     * @return {?}\n     */\n    CtrDropdown.prototype.highlightRow = /**\n     * @param {?} index\n     * @return {?}\n     */\n    function (index) {\n        var /** @type {?} */ highlighted = this.rows.find(function (row) { return row.index === index; });\n        if (isNil(index) || /** @type {?} */ ((index)) < 0) {\n            if (this.currHighlighted) {\n                this.currHighlighted.row.setHighlighted(false);\n            }\n            this.currHighlighted = undefined;\n            this.completer.onHighlighted(null);\n            return;\n        }\n        if (!highlighted) {\n            return;\n        }\n        if (this.currHighlighted) {\n            this.currHighlighted.row.setHighlighted(false);\n        }\n        this.currHighlighted = highlighted;\n        this.currHighlighted.row.setHighlighted(true);\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\n        if (this.isScrollOn && this.currHighlighted) {\n            var /** @type {?} */ rowTop = this.dropdownRowTop();\n            if (!rowTop) {\n                return;\n            }\n            if (rowTop < 0) {\n                this.dropdownScrollTopTo(rowTop - 1);\n            }\n            else {\n                var /** @type {?} */ row = this.currHighlighted.row.getNativeElement();\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).paddingTop), 10)));\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.clear = /**\n     * @return {?}\n     */\n    function () {\n        this.rows = [];\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    CtrDropdown.prototype.onSelected = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        this.completer.onSelected(item);\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.rowMouseDown = /**\n     * @return {?}\n     */\n    function () {\n        this._rowMouseDown = true;\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.selectCurrent = /**\n     * @return {?}\n     */\n    function () {\n        if (this.currHighlighted) {\n            this.onSelected(this.currHighlighted.row.getDataItem());\n        }\n        else if (this.rows.length > 0) {\n            this.onSelected(this.rows[0].row.getDataItem());\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.nextRow = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ nextRowIndex = 0;\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index + 1;\n        }\n        this.highlightRow(nextRowIndex);\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.prevRow = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ nextRowIndex = -1;\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index - 1;\n        }\n        this.highlightRow(nextRowIndex);\n    };\n    /**\n     * @param {?} offset\n     * @return {?}\n     */\n    CtrDropdown.prototype.dropdownScrollTopTo = /**\n     * @param {?} offset\n     * @return {?}\n     */\n    function (offset) {\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.dropdownRowTop = /**\n     * @return {?}\n     */\n    function () {\n        if (!this.currHighlighted) {\n            return;\n        }\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\n            (this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).paddingTop), 10));\n    };\n    /**\n     * @return {?}\n     */\n    CtrDropdown.prototype.dropdownHeight = /**\n     * @return {?}\n     */\n    function () {\n        return this.el.nativeElement.getBoundingClientRect().top +\n            parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).maxHeight), 10);\n    };\n    /**\n     * @param {?} row\n     * @return {?}\n     */\n    CtrDropdown.prototype.dropdownRowOffsetHeight = /**\n     * @param {?} row\n     * @return {?}\n     */\n    function (row) {\n        var /** @type {?} */ css = getComputedStyle(row.parentElement);\n        return row.parentElement.offsetHeight +\n            parseInt(/** @type {?} */ (css.marginTop), 10) + parseInt(/** @type {?} */ (css.marginBottom), 10);\n    };\n    CtrDropdown.decorators = [\n        { type: core.Directive, args: [{\n                    selector: \"[ctrDropdown]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrDropdown.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: core.Host },] },\n        { type: core.ElementRef, },\n    ]; };\n    CtrDropdown.propDecorators = {\n        \"onMouseDown\": [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] },],\n    };\n    return CtrDropdown;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n// keyboard events\nvar KEY_DW = 40;\nvar KEY_RT = 39;\nvar KEY_UP = 38;\nvar KEY_LF = 37;\nvar KEY_ES = 27;\nvar KEY_EN = 13;\nvar KEY_TAB = 9;\nvar KEY_BK = 8;\nvar KEY_SH = 16;\nvar KEY_CL = 20;\nvar KEY_F1 = 112;\nvar KEY_F12 = 123;\nvar CtrInput = (function () {\n    function CtrInput(completer, ngModel, el) {\n        var _this = this;\n        this.completer = completer;\n        this.ngModel = ngModel;\n        this.el = el;\n        this.clearSelected = false;\n        this.clearUnselected = false;\n        this.overrideSuggested = false;\n        this.fillHighlighted = true;\n        this.openOnFocus = false;\n        this.openOnClick = false;\n        this.selectOnClick = false;\n        this.selectOnFocus = false;\n        this.ngModelChange = new core.EventEmitter();\n        this._searchStr = \"\";\n        this._displayStr = \"\";\n        this.blurTimer = null;\n        this.completer.selected.subscribe(function (item) {\n            if (!item) {\n                return;\n            }\n            if (_this.clearSelected) {\n                _this.searchStr = \"\";\n            }\n            else {\n                _this.searchStr = item.title;\n            }\n            _this.ngModelChange.emit(_this.searchStr);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            if (_this.fillHighlighted) {\n                if (item) {\n                    _this._displayStr = item.title;\n                    _this.ngModelChange.emit(item.title);\n                }\n                else {\n                    _this._displayStr = _this.searchStr;\n                    _this.ngModelChange.emit(_this.searchStr);\n                }\n            }\n        });\n        this.completer.dataSourceChange.subscribe(function () {\n            _this.completer.search(_this.searchStr);\n        });\n        if (this.ngModel.valueChanges) {\n            this.ngModel.valueChanges.subscribe(function (value) {\n                if (!isNil(value) && _this._displayStr !== value) {\n                    if (_this.searchStr !== value) {\n                        _this.completer.search(value);\n                    }\n                    _this.searchStr = value;\n                }\n            });\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrInput.prototype.keyupHandler = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n            // do nothing\n            return;\n        }\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n            event.preventDefault();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.search(this.searchStr);\n        }\n        else if (event.keyCode === KEY_ES) {\n            if (this.completer.isOpen) {\n                this.restoreSearchValue();\n                this.completer.clear();\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrInput.prototype.pasteHandler = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.completer.open();\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrInput.prototype.keydownHandler = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        var /** @type {?} */ keyCode = event.keyCode || event.which;\n        if (keyCode === KEY_EN) {\n            if (this.completer.hasHighlighted()) {\n                event.preventDefault();\n            }\n            this.handleSelection();\n        }\n        else if (keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.open();\n            this.completer.nextRow();\n        }\n        else if (keyCode === KEY_UP) {\n            event.preventDefault();\n            this.completer.prevRow();\n        }\n        else if (keyCode === KEY_TAB) {\n            this.handleSelection();\n        }\n        else if (keyCode === KEY_BK) {\n            this.completer.open();\n        }\n        else if (keyCode === KEY_ES) {\n            // This is very specific to IE10/11 #272\n            // without this, IE clears the input text\n            event.preventDefault();\n            if (this.completer.isOpen) {\n                event.stopPropagation();\n            }\n        }\n        else {\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\n                !event.ctrlKey && !event.metaKey && !event.altKey) {\n                this.completer.open();\n            }\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrInput.prototype.onBlur = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        var _this = this;\n        // Check if we need to cancel Blur for IE\n        if (this.completer.isCancelBlur()) {\n            setTimeout(function () {\n                // get the focus back\n                // get the focus back\n                _this.el.nativeElement.focus();\n            }, 0);\n            return;\n        }\n        if (this.completer.isOpen) {\n            this.blurTimer = timer.timer(200).pipe(operators.take(1)).subscribe(function () { return _this.doBlur(); });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrInput.prototype.onfocus = /**\n     * @return {?}\n     */\n    function () {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n        if (this.selectOnFocus) {\n            this.el.nativeElement.select();\n        }\n        if (this.openOnFocus) {\n            this.completer.open();\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrInput.prototype.onClick = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (this.selectOnClick) {\n            this.el.nativeElement.select();\n        }\n        if (this.openOnClick) {\n            if (this.completer.isOpen) {\n                this.completer.clear();\n            }\n            else {\n                this.completer.open();\n            }\n        }\n    };\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this._searchStr;\n        },\n        set: /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            this._searchStr = term;\n            this._displayStr = term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    CtrInput.prototype.handleSelection = /**\n     * @return {?}\n     */\n    function () {\n        if (this.completer.hasHighlighted()) {\n            this._searchStr = \"\";\n            this.completer.selectCurrent();\n        }\n        else if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        }\n        else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            }\n            this.completer.clear();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrInput.prototype.restoreSearchValue = /**\n     * @return {?}\n     */\n    function () {\n        if (this.fillHighlighted) {\n            if (this._displayStr != this.searchStr) {\n                this._displayStr = this.searchStr;\n                this.ngModelChange.emit(this.searchStr);\n            }\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrInput.prototype.doBlur = /**\n     * @return {?}\n     */\n    function () {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n        if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        }\n        else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            }\n            else {\n                this.restoreSearchValue();\n            }\n        }\n        this.completer.clear();\n    };\n    CtrInput.decorators = [\n        { type: core.Directive, args: [{\n                    selector: \"[ctrInput]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrInput.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: core.Host },] },\n        { type: forms.NgModel, },\n        { type: core.ElementRef, },\n    ]; };\n    CtrInput.propDecorators = {\n        \"clearSelected\": [{ type: core.Input, args: [\"clearSelected\",] },],\n        \"clearUnselected\": [{ type: core.Input, args: [\"clearUnselected\",] },],\n        \"overrideSuggested\": [{ type: core.Input, args: [\"overrideSuggested\",] },],\n        \"fillHighlighted\": [{ type: core.Input, args: [\"fillHighlighted\",] },],\n        \"openOnFocus\": [{ type: core.Input, args: [\"openOnFocus\",] },],\n        \"openOnClick\": [{ type: core.Input, args: [\"openOnClick\",] },],\n        \"selectOnClick\": [{ type: core.Input, args: [\"selectOnClick\",] },],\n        \"selectOnFocus\": [{ type: core.Input, args: [\"selectOnFocus\",] },],\n        \"ngModelChange\": [{ type: core.Output },],\n        \"keyupHandler\": [{ type: core.HostListener, args: [\"keyup\", [\"$event\"],] },],\n        \"pasteHandler\": [{ type: core.HostListener, args: [\"paste\", [\"$event\"],] },],\n        \"keydownHandler\": [{ type: core.HostListener, args: [\"keydown\", [\"$event\"],] },],\n        \"onBlur\": [{ type: core.HostListener, args: [\"blur\", [\"$event\"],] },],\n        \"onfocus\": [{ type: core.HostListener, args: [\"focus\", [],] },],\n        \"onClick\": [{ type: core.HostListener, args: [\"click\", [\"$event\"],] },],\n    };\n    return CtrInput;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar CtrListContext = (function () {\n    function CtrListContext(results, searching, searchInitialized, isOpen) {\n        this.results = results;\n        this.searching = searching;\n        this.searchInitialized = searchInitialized;\n        this.isOpen = isOpen;\n    }\n    return CtrListContext;\n}());\nvar CtrList = (function () {\n    function CtrList(completer, templateRef, viewContainer, cd) {\n        this.completer = completer;\n        this.templateRef = templateRef;\n        this.viewContainer = viewContainer;\n        this.cd = cd;\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n        this.ctrListPause = PAUSE;\n        this.ctrListAutoMatch = false;\n        this.ctrListAutoHighlight = false;\n        this.ctrListDisplaySearching = true;\n        this.term = null;\n        this.searchTimer = null;\n        this.clearTimer = null;\n        this.ctx = new CtrListContext([], false, false, false);\n        this._initialValue = null;\n        this.viewRef = null;\n    }\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        this.completer.registerList(this);\n        this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\n    };\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\n        set: /**\n         * @param {?} newService\n         * @return {?}\n         */\n        function (newService) {\n            this._dataService = newService;\n            this.dataServiceSubscribe();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrList.prototype, \"initialValue\", {\n        set: /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) {\n            var _this = this;\n            if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\n                setTimeout(function () {\n                    var /** @type {?} */ initialItem = /** @type {?} */ ((_this._dataService.convertToItem))(value);\n                    if (initialItem) {\n                        _this.completer.onSelected(initialItem, false);\n                    }\n                });\n            }\n            else if (!this._dataService) {\n                this._initialValue = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} term\n     * @return {?}\n     */\n    CtrList.prototype.search = /**\n     * @param {?} term\n     * @return {?}\n     */\n    function (term) {\n        var _this = this;\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (!this.ctx.searching) {\n                if (this.ctrListDisplaySearching) {\n                    this.ctx.results = [];\n                }\n                this.ctx.searching = true;\n                this.ctx.searchInitialized = true;\n                this.refreshTemplate();\n            }\n            if (this.clearTimer) {\n                this.clearTimer.unsubscribe();\n            }\n            this.searchTimer = timer.timer(this.ctrListPause).pipe(operators.take(1)).subscribe(function () {\n                _this.searchTimerComplete(term);\n            });\n        }\n        else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\n            this.clear();\n            this.term = \"\";\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.clear = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n        }\n        this.clearTimer = timer.timer(CLEAR_TIMEOUT).pipe(operators.take(1)).subscribe(function () {\n            _this._clear();\n        });\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.open = /**\n     * @return {?}\n     */\n    function () {\n        if (!this.ctx.searchInitialized) {\n            this.search(\"\");\n        }\n        this.refreshTemplate();\n    };\n    /**\n     * @param {?} open\n     * @return {?}\n     */\n    CtrList.prototype.isOpen = /**\n     * @param {?} open\n     * @return {?}\n     */\n    function (open) {\n        this.ctx.isOpen = open;\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype._clear = /**\n     * @return {?}\n     */\n    function () {\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n            this.searchTimer = null;\n        }\n        if (this.dataService) {\n            this.dataService.cancel();\n        }\n        this.viewContainer.clear();\n        this.viewRef = null;\n    };\n    /**\n     * @param {?} term\n     * @return {?}\n     */\n    CtrList.prototype.searchTimerComplete = /**\n     * @param {?} term\n     * @return {?}\n     */\n    function (term) {\n        // Begin the search\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\n            this.ctx.searching = false;\n            return;\n        }\n        this.term = term;\n        this._dataService.search(term);\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.refreshTemplate = /**\n     * @return {?}\n     */\n    function () {\n        // create the template if it doesn't exist\n        if (!this.viewRef) {\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\n        }\n        else if (!this.viewRef.destroyed) {\n            /** @type {?} */ ((\n            // refresh the template\n            this.viewRef)).context.isOpen = this.ctx.isOpen; /** @type {?} */\n            ((this.viewRef)).context.results = this.ctx.results; /** @type {?} */\n            ((this.viewRef)).context.searching = this.ctx.searching; /** @type {?} */\n            ((this.viewRef)).context.searchInitialized = this.ctx.searchInitialized;\n            this.viewRef.detectChanges();\n        }\n        this.cd.markForCheck();\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.getBestMatchIndex = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (!this.ctx.results || !this.term) {\n            return null;\n        }\n        // First try to find the exact term\n        var /** @type {?} */ bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === /** @type {?} */ ((_this.term)).toLocaleLowerCase(); });\n        // If not try to find the first item that starts with the term\n        if (bestMatch < 0) {\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(/** @type {?} */ ((_this.term)).toLocaleLowerCase()); });\n        }\n        // If not try to find the first item that includes the term\n        if (bestMatch < 0) {\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(/** @type {?} */ ((_this.term)).toLocaleLowerCase()); });\n        }\n        return bestMatch < 0 ? null : bestMatch;\n    };\n    /**\n     * @return {?}\n     */\n    CtrList.prototype.dataServiceSubscribe = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this._dataService) {\n            this._dataService.pipe(operators.catchError(function (err) {\n                console.error(err);\n                console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\n                return [];\n            }))\n                .subscribe(function (results) {\n                _this.ctx.searchInitialized = true;\n                _this.ctx.searching = false;\n                _this.ctx.results = results;\n                if (_this.ctrListAutoMatch && results && results.length === 1 && results[0].title && !isNil(_this.term) &&\n                    results[0].title.toLocaleLowerCase() === /** @type {?} */ ((_this.term)).toLocaleLowerCase()) {\n                    // Do automatch\n                    // Do automatch\n                    _this.completer.onSelected(results[0]);\n                    return;\n                }\n                if (_this._initialValue) {\n                    _this.initialValue = _this._initialValue;\n                    _this._initialValue = null;\n                }\n                _this.refreshTemplate();\n                if (_this.ctrListAutoHighlight) {\n                    _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\n                }\n            });\n            if (this._dataService.dataSourceChange) {\n                this._dataService.dataSourceChange.subscribe(function () {\n                    _this.term = null;\n                    _this.ctx.searchInitialized = false;\n                    _this.ctx.searching = false;\n                    _this.ctx.results = [];\n                    _this.refreshTemplate();\n                    _this.completer.onDataSourceChange();\n                });\n            }\n        }\n    };\n    CtrList.decorators = [\n        { type: core.Directive, args: [{\n                    selector: \"[ctrList]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrList.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: core.Host },] },\n        { type: core.TemplateRef, },\n        { type: core.ViewContainerRef, },\n        { type: core.ChangeDetectorRef, },\n    ]; };\n    CtrList.propDecorators = {\n        \"ctrListMinSearchLength\": [{ type: core.Input },],\n        \"ctrListPause\": [{ type: core.Input },],\n        \"ctrListAutoMatch\": [{ type: core.Input },],\n        \"ctrListAutoHighlight\": [{ type: core.Input },],\n        \"ctrListDisplaySearching\": [{ type: core.Input },],\n        \"dataService\": [{ type: core.Input, args: [\"ctrList\",] },],\n        \"initialValue\": [{ type: core.Input, args: [\"ctrListInitialValue\",] },],\n    };\n    return CtrList;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar CtrRow = (function () {\n    function CtrRow(el, renderer, dropdown) {\n        this.el = el;\n        this.renderer = renderer;\n        this.dropdown = dropdown;\n        this.selected = false;\n    }\n    /**\n     * @return {?}\n     */\n    CtrRow.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        if (this._rowIndex) {\n            this.dropdown.unregisterRow(this._rowIndex);\n        }\n    };\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\n        set: /**\n         * @param {?} index\n         * @return {?}\n         */\n        function (index) {\n            this._rowIndex = index;\n            this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\n        set: /**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) {\n            this._item = item;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrRow.prototype.onClick = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.dropdown.onSelected(this._item);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrRow.prototype.onMouseEnter = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.dropdown.highlightRow(this._rowIndex);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CtrRow.prototype.onMouseDown = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.dropdown.rowMouseDown();\n    };\n    /**\n     * @param {?} selected\n     * @return {?}\n     */\n    CtrRow.prototype.setHighlighted = /**\n     * @param {?} selected\n     * @return {?}\n     */\n    function (selected) {\n        this.selected = selected;\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\n    };\n    /**\n     * @return {?}\n     */\n    CtrRow.prototype.getNativeElement = /**\n     * @return {?}\n     */\n    function () {\n        return this.el.nativeElement;\n    };\n    /**\n     * @return {?}\n     */\n    CtrRow.prototype.getDataItem = /**\n     * @return {?}\n     */\n    function () {\n        return this._item;\n    };\n    CtrRow.decorators = [\n        { type: core.Directive, args: [{\n                    selector: \"[ctrRow]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrRow.ctorParameters = function () { return [\n        { type: core.ElementRef, },\n        { type: core.Renderer, },\n        { type: CtrDropdown, decorators: [{ type: core.Host },] },\n    ]; };\n    CtrRow.propDecorators = {\n        \"ctrRow\": [{ type: core.Input },],\n        \"dataItem\": [{ type: core.Input },],\n        \"onClick\": [{ type: core.HostListener, args: [\"click\", [\"$event\"],] },],\n        \"onMouseEnter\": [{ type: core.HostListener, args: [\"mouseenter\", [\"$event\"],] },],\n        \"onMouseDown\": [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] },],\n    };\n    return CtrRow;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\"use strict\";\n/**\n * @record\n */\n\nvar CompleterListItemCmp = (function () {\n    function CompleterListItemCmp() {\n        this.parts = [];\n    }\n    /**\n     * @return {?}\n     */\n    CompleterListItemCmp.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        if (!this.searchStr) {\n            this.parts.push({ isMatch: false, text: this.text });\n            return;\n        }\n        var /** @type {?} */ matchStr = this.text.toLowerCase();\n        var /** @type {?} */ matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n        var /** @type {?} */ startIndex = 0;\n        while (matchPos >= 0) {\n            var /** @type {?} */ matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n            if (matchPos === 0) {\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length;\n            }\n            else if (matchPos > 0) {\n                var /** @type {?} */ matchPart = this.text.slice(startIndex, matchPos);\n                this.parts.push({ isMatch: false, text: matchPart });\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length + matchPart.length;\n            }\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n        }\n        if (startIndex < this.text.length) {\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n        }\n    };\n    CompleterListItemCmp.decorators = [\n        { type: core.Component, args: [{\n                    selector: \"completer-list-item\",\n                    template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]= \\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]= \\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\n                },] },\n    ];\n    /** @nocollapse */\n    CompleterListItemCmp.ctorParameters = function () { return []; };\n    CompleterListItemCmp.propDecorators = {\n        \"text\": [{ type: core.Input },],\n        \"searchStr\": [{ type: core.Input },],\n        \"matchClass\": [{ type: core.Input },],\n        \"type\": [{ type: core.Input },],\n    };\n    return CompleterListItemCmp;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\"use strict\";\nvar noop = function () {\n    return;\n};\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\n    multi: true,\n    provide: forms.NG_VALUE_ACCESSOR,\n    useExisting: core.forwardRef(function () { return CompleterCmp; }),\n};\nvar CompleterCmp = (function () {\n    function CompleterCmp(completerService, cdr) {\n        this.completerService = completerService;\n        this.cdr = cdr;\n        this.inputName = \"\";\n        this.inputId = \"\";\n        this.pause = PAUSE;\n        this.minSearchLength = MIN_SEARCH_LENGTH;\n        this.maxChars = MAX_CHARS;\n        this.overrideSuggested = false;\n        this.clearSelected = false;\n        this.clearUnselected = false;\n        this.fillHighlighted = true;\n        this.placeholder = \"\";\n        this.autoMatch = false;\n        this.disableInput = false;\n        this.autofocus = false;\n        this.openOnFocus = false;\n        this.openOnClick = false;\n        this.selectOnClick = false;\n        this.selectOnFocus = false;\n        this.autoHighlight = false;\n        this.selected = new core.EventEmitter();\n        this.highlighted = new core.EventEmitter();\n        this.blurEvent = new core.EventEmitter();\n        this.click = new core.EventEmitter();\n        this.focusEvent = new core.EventEmitter();\n        this.opened = new core.EventEmitter();\n        this.keyup = new core.EventEmitter();\n        this.keydown = new core.EventEmitter();\n        this.control = new forms.FormControl(\"\");\n        this.displaySearching = true;\n        this.displayNoResults = true;\n        this._textNoResults = TEXT_NO_RESULTS;\n        this._textSearching = TEXT_SEARCHING;\n        this._onTouchedCallback = noop;\n        this._onChangeCallback = noop;\n        this._focus = false;\n        this._open = false;\n        this._searchStr = \"\";\n    }\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this.searchStr; },\n        set: /**\n         * @param {?} v\n         * @return {?}\n         */\n        function (v) {\n            if (v !== this.searchStr) {\n                this.searchStr = v;\n            }\n            // Propagate the change in any case\n            this._onChangeCallback(v);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    \n    Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this._searchStr;\n        },\n        set: /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) {\n            if (typeof value === \"string\" || isNil(value)) {\n                this._searchStr = value;\n            }\n            else {\n                this._searchStr = JSON.stringify(value);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.ngAfterViewInit = /**\n     * @return {?}\n     */\n    function () {\n        if (this.autofocus) {\n            this._focus = true;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.ngAfterViewChecked = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this._focus) {\n            setTimeout(function () {\n                _this.ctrInput.nativeElement.focus();\n                _this._focus = false;\n            }, 0);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.onTouched = /**\n     * @return {?}\n     */\n    function () {\n        this._onTouchedCallback();\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    CompleterCmp.prototype.writeValue = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        this.searchStr = value;\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    CompleterCmp.prototype.registerOnChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        this._onChangeCallback = fn;\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    CompleterCmp.prototype.registerOnTouched = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        this._onTouchedCallback = fn;\n    };\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    CompleterCmp.prototype.setDisabledState = /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    function (isDisabled) {\n        this.disableInput = isDisabled;\n    };\n    Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\n        set: /**\n         * @param {?} source\n         * @return {?}\n         */\n        function (source) {\n            if (source) {\n                if (source instanceof Array) {\n                    this.dataService = this.completerService.local(source);\n                }\n                else if (typeof (source) === \"string\") {\n                    this.dataService = this.completerService.remote(source);\n                }\n                else {\n                    this.dataService = /** @type {?} */ (source);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\n        set: /**\n         * @param {?} text\n         * @return {?}\n         */\n        function (text) {\n            if (this._textNoResults !== text) {\n                this._textNoResults = text;\n                this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\n        set: /**\n         * @param {?} text\n         * @return {?}\n         */\n        function (text) {\n            if (this._textSearching !== text) {\n                this._textSearching = text;\n                this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.completer.selected.subscribe(function (item) {\n            _this.selected.emit(item);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            _this.highlighted.emit(item);\n        });\n        this.completer.opened.subscribe(function (isOpen) {\n            _this._open = isOpen;\n            _this.opened.emit(isOpen);\n        });\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.onBlur = /**\n     * @return {?}\n     */\n    function () {\n        this.blurEvent.emit();\n        this.onTouched();\n        this.cdr.detectChanges();\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.onFocus = /**\n     * @return {?}\n     */\n    function () {\n        this.focusEvent.emit();\n        this.onTouched();\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CompleterCmp.prototype.onClick = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.click.emit(event);\n        this.onTouched();\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CompleterCmp.prototype.onKeyup = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.keyup.emit(event);\n        event.stopPropagation();\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    CompleterCmp.prototype.onKeydown = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.keydown.emit(event);\n        event.stopPropagation();\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    CompleterCmp.prototype.onChange = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        this.value = value;\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.open = /**\n     * @return {?}\n     */\n    function () {\n        this.completer.open();\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.close = /**\n     * @return {?}\n     */\n    function () {\n        this.completer.clear();\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.focus = /**\n     * @return {?}\n     */\n    function () {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.focus();\n        }\n        else {\n            this._focus = true;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.blur = /**\n     * @return {?}\n     */\n    function () {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.blur();\n        }\n        else {\n            this._focus = false;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CompleterCmp.prototype.isOpen = /**\n     * @return {?}\n     */\n    function () {\n        return this._open;\n    };\n    CompleterCmp.decorators = [\n        { type: core.Component, args: [{\n                    selector: \"ng2-completer\",\n                    template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\"\\n                class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\"\\n                [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\"\\n                [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\"\\n                (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown \\n                    *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{ _textSearching }}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\"\\n                    class=\\\"completer-no-results\\\">{{ _textNoResults }}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\"\\n                            [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item\\n                                class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\"\\n                                [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\"\\n                                class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n                    styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\n                    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n                },] },\n    ];\n    /** @nocollapse */\n    CompleterCmp.ctorParameters = function () { return [\n        { type: CompleterService, },\n        { type: core.ChangeDetectorRef, },\n    ]; };\n    CompleterCmp.propDecorators = {\n        \"dataService\": [{ type: core.Input },],\n        \"inputName\": [{ type: core.Input },],\n        \"inputId\": [{ type: core.Input },],\n        \"pause\": [{ type: core.Input },],\n        \"minSearchLength\": [{ type: core.Input },],\n        \"maxChars\": [{ type: core.Input },],\n        \"overrideSuggested\": [{ type: core.Input },],\n        \"clearSelected\": [{ type: core.Input },],\n        \"clearUnselected\": [{ type: core.Input },],\n        \"fillHighlighted\": [{ type: core.Input },],\n        \"placeholder\": [{ type: core.Input },],\n        \"matchClass\": [{ type: core.Input },],\n        \"fieldTabindex\": [{ type: core.Input },],\n        \"autoMatch\": [{ type: core.Input },],\n        \"disableInput\": [{ type: core.Input },],\n        \"inputClass\": [{ type: core.Input },],\n        \"autofocus\": [{ type: core.Input },],\n        \"openOnFocus\": [{ type: core.Input },],\n        \"openOnClick\": [{ type: core.Input },],\n        \"selectOnClick\": [{ type: core.Input },],\n        \"selectOnFocus\": [{ type: core.Input },],\n        \"initialValue\": [{ type: core.Input },],\n        \"autoHighlight\": [{ type: core.Input },],\n        \"selected\": [{ type: core.Output },],\n        \"highlighted\": [{ type: core.Output },],\n        \"blurEvent\": [{ type: core.Output, args: [\"blur\",] },],\n        \"click\": [{ type: core.Output },],\n        \"focusEvent\": [{ type: core.Output, args: [\"focus\",] },],\n        \"opened\": [{ type: core.Output },],\n        \"keyup\": [{ type: core.Output },],\n        \"keydown\": [{ type: core.Output },],\n        \"completer\": [{ type: core.ViewChild, args: [CtrCompleter,] },],\n        \"ctrInput\": [{ type: core.ViewChild, args: [\"ctrInput\",] },],\n        \"datasource\": [{ type: core.Input },],\n        \"textNoResults\": [{ type: core.Input },],\n        \"textSearching\": [{ type: core.Input },],\n    };\n    return CompleterCmp;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar providers = [\n    CompleterService,\n    LocalDataFactory,\n    RemoteDataFactory\n];\nvar Ng2CompleterModule = (function () {\n    function Ng2CompleterModule() {\n    }\n    /**\n     * @return {?}\n     */\n    Ng2CompleterModule.forRoot = /**\n     * @return {?}\n     */\n    function () {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers: providers\n        };\n    };\n    /**\n     * @return {?}\n     */\n    Ng2CompleterModule.forChild = /**\n     * @return {?}\n     */\n    function () {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers: providers\n        };\n    };\n    Ng2CompleterModule.decorators = [\n        { type: core.NgModule, args: [{\n                    declarations: [\n                        CompleterListItemCmp,\n                        CtrCompleter,\n                        CtrDropdown,\n                        CtrInput,\n                        CtrList,\n                        CtrRow,\n                        CompleterCmp\n                    ],\n                    exports: [\n                        CompleterListItemCmp,\n                        CtrCompleter,\n                        CtrDropdown,\n                        CtrInput,\n                        CtrList,\n                        CtrRow,\n                        CompleterCmp\n                    ],\n                    imports: [\n                        common.CommonModule,\n                        forms.FormsModule,\n                        http.HttpClientModule\n                    ],\n                    providers: providers\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2CompleterModule.ctorParameters = function () { return []; };\n    return Ng2CompleterModule;\n}());\n\nexports.LocalData = LocalData;\nexports.RemoteData = RemoteData;\nexports.LocalDataFactory = LocalDataFactory;\nexports.RemoteDataFactory = RemoteDataFactory;\nexports.CompleterService = CompleterService;\nexports.CtrCompleter = CtrCompleter;\nexports.CtrDropdown = CtrDropdown;\nexports.CtrInput = CtrInput;\nexports.CtrList = CtrList;\nexports.CtrRow = CtrRow;\nexports.CompleterListItemCmp = CompleterListItemCmp;\nexports.CompleterCmp = CompleterCmp;\nexports.Ng2CompleterModule = Ng2CompleterModule;\nexports.ɵa = CtrListContext;\nexports.ɵb = CompleterBaseData;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ng2-completer.umd.js.map\n"]}